version: '3.8'

services:
  # Приложение AI-Career Navigator
  aicareer-app:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: aicareer-app
    environment:
      # Настройки базы данных - подключаемся к локальной PostgreSQL
      DATABASE_URL: jdbc:postgresql://host.docker.internal:5432/aicareer_db
      DATABASE_USERNAME: postgres
      DATABASE_PASSWORD: KRNSmo0Rnx

      # Настройки приложения
      APP_LOGGING_LEVEL: INFO
      APP_NAME: AiCareer
      APP_VERSION: 1.0.0
    ports:
      - "8080:8080"  # Если будет веб-интерфейс
    volumes:
      - ./logs:/app/logs  # Логи приложения
      - ./config:/app/config  # Конфигурационные файлы
    stdin_open: true  # Для консольного ввода
    tty: true         # Для интерактивного режима
    extra_hosts:
      - "host.docker.internal:host-gateway"  # Доступ к localhost из контейнера